jQuery(function(e){e("ul.dropdown-menu li.dropdown").hover(function(){e(this).addClass("open")},function(){e(this).removeClass("open")});e(".datepicker").datepicker({dateFormat:"yy-mm-dd"})});(function(e){e.validator.setDefaults({ignore:":hidden"});var t={init:function(){self=this;e("a.dokan-banner-drag").on("click",this.imageUpload);e("a.dokan-remove-banner-image").on("click",this.removeBanner);this.validateForm(self);return!1},imageUpload:function(){var t,n=e(this);if(t){t.open();return}t=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1});t.on("select",function(){attachment=t.state().get("selection").first().toJSON();var r=n.closest(".dokan-banner");r.find("input.dokan-file-field").val(attachment.id);r.find("img.dokan-banner-img").attr("src",attachment.url);e(".image-wrap",r).removeClass("dokan-hide");e(".button-area").addClass("dokan-hide")});t.open()},submitSettings:function(){var t=e("form#settings-form"),n=t.serialize()+"&action=dokan_settings";t.find(".ajax_prev").append('<span class="dokan-loading"> </span>');e.post(dokan.ajaxurl,n,function(n){t.find("span.dokan-loading").remove();e("html,body").animate({scrollTop:100});n.success?e(".dokan-ajax-response").html(e("<div/>",{"class":"alert alert-success",html:"<p>"+n.data+"</p>"})):e(".dokan-ajax-response").html(e("<div/>",{"class":"alert alert-danger",html:"<p>"+n.data+"</p>"}))})},validateForm:function(t){e("form#settings-form").validate({submitHandler:function(e){t.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:function(t,n){var r=e(n).closest(".form-group");r.addClass("has-error").append(t)},success:function(t,n){e(n).closest(".form-group").removeClass("has-error")}})},removeBanner:function(t){t.preventDefault();var n=e(this),r=n.closest(".image-wrap"),i=r.siblings(".button-area");r.find("input.dokan-file-field").val("0");r.addClass("dokan-hide");i.removeClass("dokan-hide")}};t.init()})(jQuery);(function(e){var t={init:function(){var e=this;this.withdrawValidate(e)},withdrawValidate:function(t){e("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:function(t,n){var r=e(n).closest(".form-group");r.addClass("has-error").append(t)},success:function(t,n){e(n).closest(".form-group").removeClass("has-error")}})}};t.init()})(jQuery);(function(e){var t={init:function(){var e=this;this.couponsValidation(e)},couponsValidation:function(t){e("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:function(t,n){var r=e(n).closest(".form-group");r.addClass("has-error").append(t)},success:function(t,n){e(n).closest(".form-group").removeClass("has-error")}})}};t.init()})(jQuery);